import{e as t,f as T,p as B,g as C,r as N,o as c,c as p,a as s,h as w,i as U,j as m,v as b,d as v,b as A,w as R,k as M}from"./index-x7KjULFv.js";import{a as x}from"./axios-kMxbiGYq.js";const P={class:"bg-black h-screen flex items-center justify-center"},j={class:"bg-black p-8 rounded-md shadow-lg w-full max-w-md"},L={key:0},S=s("p",{class:"text-white"},"This email is registered ",-1),F=s("h1",{class:"text-3xl font-extrabold text-white mb-6"}," Register an Account ",-1),I={class:"mb-4"},O=s("label",{for:"name",class:"block text-sm font-medium text-white"}," Name ",-1),Y={class:"mb-4"},q=s("label",{for:"email",class:"block text-sm font-medium text-white"}," Email Address ",-1),z={class:"mb-4"},G=s("label",{for:"password",class:"block text-sm font-medium text-white"}," Password (8-32 symbols) ",-1),H=["disabled"],J={class:"text-sm text-white mt-4"},X={__name:"Register",setup(K){const f=t([]),n=t([]),h=t({}),u=t(""),l=t(""),a=t(""),o=t(!1),i=t(!0),_=M,k=async()=>{console.log("Yo")},y=async()=>{const{data:g}=await x.get("https://manage-x-backend.onrender.com/api/users/get_users/");f.value=g.map(e=>({...e})),n.value=f.value.map(e=>({...e})),h.value=n.value.map(e=>({...e}));for(let e=0;e<h.value.length;e++)try{if(n.value[e].email!==a.value){const{postData:d}=await x.post("https://manage-x-backend.onrender.com/api/users/post_users/",{name:u.value,email:a.value,password:l.value});console.log("POSTED"),await _.push("/login")}else{console.log(n.value[e].email),console.log(a.value),o.value=!o.value;break}}catch(d){console.log(d)}},V=()=>{o.value=!o.value,location.reload()},D=()=>{l.value.length<=32&&l.value.length>=8?(i.value=!1,console.log("Password is okay")):i.value=!0},E=T(()=>!!i.value);return B("username",u.value),C(()=>k()),(g,e)=>{const d=N("router-link");return c(),p("div",P,[s("div",j,[o.value?(c(),p("div",L,[S,s("button",{onClick:e[0]||(e[0]=()=>V()),class:"w-full bg-purple-600 text-white py-2 rounded-md hover:bg-purple-700 focus:outline-none focus:ring focus:border-purple-700"}," Try Again ")])):w("",!0),o.value?w("",!0):(c(),p("form",{key:1,onSubmit:U(y,["prevent"]),class:"flex flex-col"},[F,s("div",I,[O,m(s("input",{id:"name",type:"text",name:"name",class:"w-full p-2 border-2 border-purple-500 bg-black text-white rounded-md focus:outline-none focus:border-purple-700",placeholder:"Enter your username","onUpdate:modelValue":e[1]||(e[1]=r=>u.value=r)},null,512),[[b,u.value]])]),s("div",Y,[q,m(s("input",{type:"email",id:"email",name:"email",class:"w-full p-2 border-2 border-purple-500 bg-black text-white rounded-md focus:outline-none focus:border-purple-700",placeholder:"Enter your email address","onUpdate:modelValue":e[2]||(e[2]=r=>a.value=r)},null,512),[[b,a.value]])]),s("div",z,[G,m(s("input",{type:"password",id:"password",class:"w-full p-2 border-2 border-purple-500 bg-black text-white rounded-md focus:outline-none focus:border-purple-700",placeholder:"Enter your password","onUpdate:modelValue":e[3]||(e[3]=r=>l.value=r),onInput:e[4]||(e[4]=()=>D())},null,544),[[b,l.value]])]),s("button",{disabled:E.value,type:"submit",class:"disabled:bg-blue-950 bg-purple-600 text-white py-2 rounded-md hover:bg-purple-700 focus:outline-none focus:ring focus:border-purple-700"}," Register ",8,H),s("p",J,[v(" Already have an account? "),A(d,{to:"/login",class:"underline"},{default:R(()=>[v("Log in here")]),_:1}),v(". ")])],32))])])}}};export{X as default};
